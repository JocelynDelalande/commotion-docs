<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Commotion Wireless</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Commotion is an open-source communication tool that uses mobile phones, computers, and other wireless devices to create decentralized mesh networks.">

    <link href="/css/bootstrap.css" rel="stylesheet">
    <style>
        body {
          padding-top:60px;
        }
    </style>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link href="/css/bootstrap-responsive.css" rel="stylesheet">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
<body>
<div class="navbar navbar-inverse navbar-fixed-top">
  <div class="boxes-box" id="boxes-box-top_colors">
    <div class="boxes-box-content">
      <div class="navbar-inners">
        <div class="color0">&nbsp;</div>
        <div class="color1">&nbsp;</div>
        <div class="color2">&nbsp;</div>
        <div class="color3">&nbsp;</div>
        <div class="color4">&nbsp;</div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div style="float: left; max-width:300px;">
    <a href="/" style="border-bottom: none;"><img src="/images/commotion_kbabout_measure-03_0_0.png" alt="Commotion Wireless logo" style="float:left; position:relative; z-index: 1000; max-width:350px; height: 12em; margin-left: .5em; margin-right: .5em;" /></a>
  </div>
  <div style="position:relative; z-index:10000;">
    <ul class="nav nav-pills">
      <li class="dropdown">
        <a id="aboutMenu" href="#" data-toggle="dropdown" role="button">
        About
        <b class="caret"></b>
        </a>
        <ul id="aboutMenu" class="dropdown-menu" aria-labelledby="aboutMenu" role="menu">
          <li role="presentation"><a role="menuitem" tabindex="-1" href="/about">About Commotion</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" href="/about/faq">FAQ</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" href="/about/guiding-principles">Guiding Principles</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" href="/about/where-its-used">Where It&#039;s Used</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" href="/about/press">Press</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" href="/about/license-privacy">License &amp; Privacy</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" href="/jobs">Jobs</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-1" href="/contact">Contact</a></li>
        </ul>
        </li>
      <li class="static-nodrop"><a href="/blog" title="">Blog</a></li>
      <li class="dropdown">
        <a id="getHelpMenu" href="#" data-toggle="dropdown" role="button">
        Get Help
        <b class="caret"></b>
        </a>
        <ul id="getHelpMenu" class="dropdown-menu" aria-labelledby="getHelpMenu" role="menu">
          <li role="presentation"><a role="menuitem" tabindex="-2" href="/docs/get-started">Get Started</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-2" href="/docs/get-involved">Get Involved</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-2" href="/docs/supported-devices">Supported Devices</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-2" href="/docs/cck">Commotion Construction Kit</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-2" href="/docs/localization">Commotion Localization</a></li>
        </ul>
      </li>
     <li class="dropdown">
        <a id="downloadMenu" href="#" data-toggle="dropdown" role="button">
        Download
        <b class="caret"></b>
        </a>
        <ul id="downloadMenu" class="dropdown-menu" aria-labelledby="downloadMenu" role="menu">
          <li role="presentation"><a role="menuitem" tabindex="-3" href="/download/routers" title="Downloads for supported routers">Routers</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-3" href="/download/android" title="Downloads for supported cellular phones.">Phones</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-3" href="/download/computers">Computers</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-3" href="/download/openbts" title="Downloads for supported cellular network gateways.">Cellular Networks</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-3" href="/download/verify-signatures" title="">Verifying Downloads</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a id="developersMenu" href="#" data-toggle="dropdown" role="button">
        For Developers
        <b class="caret"></b>
        </a>
        <ul id="developersMenu" class="dropdown-menu" aria-labelledby="developersMenu" role="menu">
          <li role="presentation"><a role="menuitem" tabindex="-4" href="/developer/resources" title="">Developer Resources</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-4" href="/jobs" title="Read and submit bids for open RFPs on the Commotion Wireless project.">Requests for Proposals</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-4" href="https://wiki.commotionwireless.net" title="">Wiki</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-4" href="https://github.com/organizations/opentechinstitute/dashboard/issues/repos?direction=desc&amp;state=open" title="">Issue Tracker</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-4" href="https://github.com/opentechinstitute" title="">Source Code</a></li>
          <li role="presentation"><a role="menuitem" tabindex="-4" href="/developer/hig/introduction">Human Interface Guidelines</a></li>
        </ul>
      </li>
    </ul>
  </div>
 </div>
</div>

<div class="containercontent pageheadings">
  <h1 class="pageheadings">Step-by-step - creating and installing a package for Commotion</h1>
  <hr>
</div>

<div class="contentcontainer">
  <div class="container">

    <div class="right-third">


 <h3>Tags:</h3>

 <a href="/tags/siteindex#ui,branding,identity,research">ui,branding,identity,research</a><br />

 <a href="/tags/siteindex#ui,detroit,community">ui,detroit,community</a><br />

 <a href="/tags/siteindex#wireless,research,recommendations,">wireless,research,recommendations,</a><br />

 <a href="/tags/siteindex#ui,ux,research">ui,ux,research</a><br />

 <a href="/tags/siteindex#recommendations,research">recommendations,research</a><br />

 <a href="/tags/siteindex#messaging,detroit">messaging,detroit</a><br />

 <a href="/tags/siteindex#drupal,branding">drupal,branding</a><br />

 <a href="/tags/siteindex#messaging,chat,ux,applications">messaging,chat,ux,applications</a><br />

 <a href="/tags/siteindex#chat,applications,routers,,messaging">chat,applications,routers,,messaging</a><br />

 <a href="/tags/siteindex#chat,applications,routers,messaging">chat,applications,routers,messaging</a><br />

 <a href="/tags/siteindex#community">community</a><br />

 <a href="/tags/siteindex#wireless,energy,detroit,">wireless,energy,detroit,</a><br />

 <a href="/tags/siteindex#mesh,cost,price,hardware">mesh,cost,price,hardware</a><br />

 <a href="/tags/siteindex#red">red</a><br />

 <a href="/tags/siteindex#hook,hardware,cost,community">hook,hardware,cost,community</a><br />

 <a href="/tags/siteindex#wireless,applications,research,mesh">wireless,applications,research,mesh</a><br />

 <a href="/tags/siteindex#hook,hardware,community">hook,hardware,community</a><br />

 <a href="/tags/siteindex#wireless,mesh,troubleshooting,site">wireless,mesh,troubleshooting,site</a><br />

 <a href="/tags/siteindex#visits,maintenance">visits,maintenance</a><br />

 <a href="/tags/siteindex#warning,label,security,anonymity,privacy,research">warning,label,security,anonymity,privacy,research</a><br />

 <a href="/tags/siteindex#battlemesh,mesh,olsr,testing">battlemesh,mesh,olsr,testing</a><br />

 <a href="/tags/siteindex#detroit,community">detroit,community</a><br />

 <a href="/tags/siteindex#wireless,digital">wireless,digital</a><br />

 <a href="/tags/siteindex#stewards,mesh,amp,amc">stewards,mesh,amp,amc</a><br />

 <a href="/tags/siteindex#release">release</a><br />

 <a href="/tags/siteindex#messaging,applications,chat,site">messaging,applications,chat,site</a><br />

 <a href="/tags/siteindex#visits,serval">visits,serval</a><br />

 <a href="/tags/siteindex#mesh,site">mesh,site</a><br />

 <a href="/tags/siteindex#visits,gource,git,visualization,troubleshooting,recommendations">visits,gource,git,visualization,troubleshooting,recommendations</a><br />

 <a href="/tags/siteindex#development,visualization">development,visualization</a><br />

 <a href="/tags/siteindex#guest">guest</a><br />

 <a href="/tags/siteindex#post,community">post,community</a><br />

 <a href="/tags/siteindex#wireless">wireless</a><br />

 <a href="/tags/siteindex#digital">digital</a><br />

 <a href="/tags/siteindex#stewards,community">stewards,community</a><br />

 <a href="/tags/siteindex#wireless,mesh,detroit,red">wireless,mesh,detroit,red</a><br />

 <a href="/tags/siteindex#hook">hook</a><br />

 <a href="/tags/siteindex#hook,community">hook,community</a><br />

 <a href="/tags/siteindex#wireless,mesh,site">wireless,mesh,site</a><br />

 <a href="/tags/siteindex#visits,digital">visits,digital</a><br />

 <a href="/tags/siteindex#stewards,routers,maintenance">stewards,routers,maintenance</a><br />

 <a href="/tags/siteindex#wireless,detroit,red">wireless,detroit,red</a><br />

 <a href="/tags/siteindex#hook,tools,cck,digital">hook,tools,cck,digital</a><br />

 <a href="/tags/siteindex#stewards">stewards</a><br />

 <a href="/tags/siteindex#r1,upgrade">r1,upgrade</a><br />


    </div>

    <div class="left-twothird">

 <h2 class="blog-pubdata">2012-10-08 / The Work Department</h2>

<p>Here at The Work Department, we&#39;ve been busy cooking up systems to experiment with applications that utilize node-to-node mesh connections and are eager to share them with you. In particular, some of the example applications that we proposed in our <a class='external' href='https://commotionwireless.net/blog/exploring-meshaging' target='_blank'>Exploring &quot;Meshaging&quot;</a> post have been taking form. We want to offer you the tools to experiment with what is possible given the unique architecture of a mesh network. The Commotion router software is built atop OpenWRT, a Linux distribution designed for routers and other small devices. OpenWRT has a package management system, and Commotion&#8217;s code is kept in a separate feed and package. A developer can integrate additional features into a Commotion network by writing or porting applications and packaging them for OpenWRT. Below, we explain the process of porting and packaging an application (in this case, a small websockets server, ws-routing, and dependencies). <h3>Ingredients</h3>You&#39;ll need a few things to follow along: <ol><li>**A computer! **Assuming you are currently using a computer, this should be easy. Make sure you have some space on your hard drive to download the packages.</li><li>**Terminal access and a few common commands.** You&#39;ll need these tools, including <a class='external' href='http://git-scm.com/book/en/Getting-Started-Installing-Git' target='_blank'>GIT</a> and <a href='http://www.gnu.org/software/make/manual/make.html#Top' target='_blank'>Make</a>, to download and compile the latest code from the repositories.</li><li>**Wireless Router(s).** This hardware is necessary to serve your mesh network. You can read more details on the hardware that we use here: <a class='external' href='https://code.commotionwireless.net/projects/commotion-manual/wiki/Installing_Commotion_on_Wireless_Nodes#A-little-background' target='_blank'>Installing Commotion on Wireless Nodes</a>.</li><li>**Time. **Like a good stew, some of these scripts can take time before they are complete. You might anticipate about one or two hours until you are up and running.</li><li>**Friends.** Not required, but collaboratively learning and working together can be an important part of setting up mesh networks.</li></ol><h3>Step-by-step to mesh networking delight</h3>Once you have the essentials listed above you can start mixing it all together. First, let&#39;s build the packages! You can do this by opening your terminal and entering the commands listed below in order. Anything after a number sign (#) is there to provide additional instruction and shouldn&#39;t be entered into the command line. The setup scripts and make commands can take time to run, so that would be a great time to read more of the <a class='external' href='https://commotionwireless.net/blog' target='_blank'>blog</a> or the <a class='external' href='https://commotionwireless.net/wiki/mesh-resources' target='_blank'>Mesh Resources wiki</a>.</p>

<pre><code># Clone the commotion-openwrt repo:
git clone https://github.com/opentechinstitute/commotion-openwrt.git
cd commotion-openwrt
./setup.sh
cd ..
# Clone your package repo:
git clone https://github.com/bnchdrff/commotion-wsrouting-feed.git commotion-examples
# Run the package setup.sh script:
cd commotion-examples
./setup.sh # ignore package feed errors
# Configure and build:
cd ../commotion-openwrt/openwrt
make menuconfig # ignore package feed errors
# A ncurses GUI will display:
## Select the commotion-apps submenu
## Select ws-routing as * (static) by pressing Y
## Select exit
## When prompted, choose to save config
make V=99 # build, verbosely
cd bin/ar71xx/
ls</code></pre>

<p>And, voila! You should see a list of files that look something like this: &#34;<strong>openwrt-ar71xx-generic-ubnt-bullet-m-squashfs-factory.bin</strong>&#34;. The file you&#39;ll need to flash your wireless router will vary depending on the router hardware. Using that file, follow the instructions provided for <a class='external' href='https://code.commotionwireless.net/projects/commotion-manual/wiki/Installing_Commotion_on_Wireless_Nodes' target='_blank'>Installing Commotion on Wireless Nodes</a> in order flash the router. These <a class='external' href='https://code.commotionwireless.net/projects/commotion-manual/wiki/Detailed_TFTP_Instructions' target='_blank'>Detailed TFTP Instructions</a> also include detailed steps to transfer the file to your router with <strong>TFTP.</strong> <h3>Get a taste of Commotion</h3>Well done! You have installed Commotion on a your wireless router. After the router restarts, you can disable your wired network and hop on the &#8220;commotion_NNNNN_ap&#8221; network that should become available. Open a web browser and navigate to any website, which should bring you to the Commotion splash page. Last, you can verify that the <strong>ws-routing</strong> package is installed by following these steps: <ol><li>Click &quot;**Go to Password configuration...**&quot;</li><li>Click &quot;**Login**&quot; and reset the password if necessary.</li><li>The administration menu should appear at the top. Hover over &quot;**System**&quot; and click &quot;**Software**.&quot; **ws-routing** should be in the list.</li></ol>Here&#39;s a virtual pat on the back. Now you&#8217;ll be ready to install example applications and test them for yourself. In our next post, we&#8217;ll show you how to install and use the chat application we developed.</p>
 <h4>Tags:</h4>

 <a href="/tags/siteindex#chat,applications,routers,,messaging">chat,applications,routers,,messaging</a>&nbsp;


    </div>

  </div>
</div>

<div class="footer-wrapper">
  <div class="container">
        <ul class="menu"><li class="first leaf menu-mlid-2043"><a href="/contact" title="">Contact</a></li>
        <li class=""><a href="/jobs" title="">Jobs</a></li>
        <li class=""><a href="http://oti.newamerica.net/" title="">OTI</a></li>
        <li class=""><a href="/about/press" title="">Press</a></li>
        <li class="last leaf menu-mlid-2048"><a href="/about/license-privacy" title="">License &amp; Privacy</a></li>
        </ul>
  </div>
</div>

<script src="https://code.jquery.com/jquery.js"></script>
<script src="/js/bootstrap.js"></script>

  </body>
</html>

