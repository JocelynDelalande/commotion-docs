\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager}{\section{commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager Class Reference}
\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager}\index{commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager@{commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager}}
}
Inheritance diagram for commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a98ed5baeb8363089a665d7a4fbcc6198}{def {\bfseries \-\_\-\-\_\-init\-\_\-\-\_\-}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a98ed5baeb8363089a665d7a4fbcc6198}

\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a25c38ac92dceebe57891ce0ed422505e}{get\-\_\-user\-\_\-settings}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae90e7bfde555094ce23154a21baafd02}{reset\-\_\-settings\-\_\-group}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a5a94323a3528a6af3bf009eb302fa729}{init\-\_\-extension\-\_\-libraries}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ab2a55f25d0f1dbce2924c28513fac830}{set\-\_\-library\-\_\-defaults}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2edb9c39e0b8e5143c245089170182a3}{init\-\_\-libraries}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae751a1b407e33af012d41ec44f2ce717}{init\-\_\-extension\-\_\-config}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a549fdfd52d8e355e4bac34907ef74e2a}{check\-\_\-installed}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_aa2b5054f6495fbc20e556f5713550d01}{get\-\_\-installed}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a98f5f3c261f083885a9b0528dcdafd34}{load\-\_\-core}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a58bcb83cefe458d4affcb185785694c6}{install\-\_\-loaded}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ac5a486ac7518727f2fab847f989cdfd9}{get\-\_\-extension\-\_\-from\-\_\-property}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a91552f94535d729789bcb7da471d90fe}{get\-\_\-property}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a923e4fe2b6bc682d9ccca7820cf2f3f3}{load\-\_\-user\-\_\-interface}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a7f811f5c953b4208d9af942c9c173dbf}{get\-\_\-config}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a6d909da9885ddd0ca5a4b1e548bf2257}{remove\-\_\-extension\-\_\-settings}
\item 
def \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a048d2495f31a2637f67ed1b759f728a4}{save\-\_\-settings}
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a01771482a71cd6aef4806253e177cd7a}{{\bfseries log}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a01771482a71cd6aef4806253e177cd7a}

\item 
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{{\bfseries translate}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}

\item 
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ab11d3e09be6db88eb58e432c82d82702}{{\bfseries extensions}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ab11d3e09be6db88eb58e432c82d82702}

\item 
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}{{\bfseries libraries}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}

\item 
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a0fa8b2be1171ded73629a01c50472d34}{{\bfseries user\-\_\-settings}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a0fa8b2be1171ded73629a01c50472d34}

\item 
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a72f3a3497a4593880a56e3952e674b13}{{\bfseries config\-\_\-keys}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a72f3a3497a4593880a56e3952e674b13}

\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a549fdfd52d8e355e4bac34907ef74e2a}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!check\-\_\-installed@{check\-\_\-installed}}
\index{check\-\_\-installed@{check\-\_\-installed}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{check\-\_\-installed}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-check\-\_\-installed (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{name = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a549fdfd52d8e355e4bac34907ef74e2a}
\begin{DoxyVerb}Checks if and extension is installed.
    
Args:
  name (type): Name of a extension to check. If not specified will check if there are any extensions installed.
    
Returns:
  bool: True if named extension is installed, false, if not.
\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-get\-\_\-installed(), commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, and commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate.


\begin{DoxyCode}
220 
221     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a549fdfd52d8e355e4bac34907ef74e2a}{check\_installed}(self, name=None):
222         \textcolor{stringliteral}{"""Checks if and extension is installed.}
223 \textcolor{stringliteral}{            }
224 \textcolor{stringliteral}{        Args:}
225 \textcolor{stringliteral}{          name (type): Name of a extension to check. If not specified will check if there are any
       extensions installed.}
226 \textcolor{stringliteral}{            }
227 \textcolor{stringliteral}{        Returns:}
228 \textcolor{stringliteral}{          bool: True if named extension is installed, false, if not.}
229 \textcolor{stringliteral}{        """}
230         installed\_extensions = list(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_aa2b5054f6495fbc20e556f5713550d01}{get\_installed}().keys())
231         \textcolor{keywordflow}{if} name \textcolor{keywordflow}{and} name \textcolor{keywordflow}{in} installed\_extensions:
232             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Extension \{0\} found in installed extensions."}.
      format(name)))
233             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
234         \textcolor{keywordflow}{elif} \textcolor{keywordflow}{not} name \textcolor{keywordflow}{and} installed\_extensions:
235             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Installed extensions found."}))
236             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
237         \textcolor{keywordflow}{else}:
238             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Extension/s NOT found."}))
239             \textcolor{keywordflow}{return} \textcolor{keyword}{False}

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a7f811f5c953b4208d9af942c9c173dbf}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!get\-\_\-config@{get\-\_\-config}}
\index{get\-\_\-config@{get\-\_\-config}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{get\-\_\-config}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-get\-\_\-config (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{name}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a7f811f5c953b4208d9af942c9c173dbf}
\begin{DoxyVerb}Returns a config from an installed extension.

Args:
  name (string): An extension name.

Returns:
  A config (dictionary)for an extension.

Raises:
  KeyError: If an installed extension of the specified name does not exist.
\end{DoxyVerb}
 

References commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate, and commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-user\-\_\-settings.



Referenced by commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-load\-\_\-user\-\_\-interface().


\begin{DoxyCode}
443 
444     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a7f811f5c953b4208d9af942c9c173dbf}{get\_config}(self, name):
445         \textcolor{stringliteral}{"""Returns a config from an installed extension.}
446 \textcolor{stringliteral}{                }
447 \textcolor{stringliteral}{        Args:}
448 \textcolor{stringliteral}{          name (string): An extension name.}
449 \textcolor{stringliteral}{        }
450 \textcolor{stringliteral}{        Returns:}
451 \textcolor{stringliteral}{          A config (dictionary)for an extension.}
452 \textcolor{stringliteral}{        }
453 \textcolor{stringliteral}{        Raises:}
454 \textcolor{stringliteral}{          KeyError: If an installed extension of the specified name does not exist.}
455 \textcolor{stringliteral}{        """}
456         config  = \{\}
457         \_settings = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a0fa8b2be1171ded73629a01c50472d34}{user\_settings}
458         extensions  = \_settings.childGroups()
459         \textcolor{keywordflow}{if} name \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} extensions:
460             \textcolor{keywordflow}{raise} KeyError(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"No installed extension with the name \{0\}
       exists."}.format(name)))
461         \_settings.beginGroup(name)
462         extension\_config = \_settings.childKeys()
463         \textcolor{keywordflow}{for} key \textcolor{keywordflow}{in} extension\_config:
464             config[key] = \_settings.value(key)
465         \_settings.endGroup()
466         \textcolor{keywordflow}{return} config

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ac5a486ac7518727f2fab847f989cdfd9}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!get\-\_\-extension\-\_\-from\-\_\-property@{get\-\_\-extension\-\_\-from\-\_\-property}}
\index{get\-\_\-extension\-\_\-from\-\_\-property@{get\-\_\-extension\-\_\-from\-\_\-property}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{get\-\_\-extension\-\_\-from\-\_\-property}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-get\-\_\-extension\-\_\-from\-\_\-property (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{key, }
\item[{}]{val}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ac5a486ac7518727f2fab847f989cdfd9}
\begin{DoxyVerb}Takes a property and returns all INSTALLED extensions who have the passed value set under the passed property.

Checks all installed extensions and returns the name of all extensions whose config contains the key:val pair passed to this function.

Args:
  key (string): The name of the property to be checked.
  val (string): The value that the property must have to be selected

Returns:
  A list of extension names that have the key:val property in their config if they exist.
    ['ext01', 'ext02', 'ext03']

Raises:
  KeyError: If the value requested is non-standard.
\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-config\-\_\-keys, commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate, and commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-user\-\_\-settings.


\begin{DoxyCode}
339 
340     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ac5a486ac7518727f2fab847f989cdfd9}{get\_extension\_from\_property}(self, key, val):
341         \textcolor{stringliteral}{"""Takes a property and returns all INSTALLED extensions who have the passed value set under the
       passed property.}
342 \textcolor{stringliteral}{}
343 \textcolor{stringliteral}{        Checks all installed extensions and returns the name of all extensions whose config contains the
       key:val pair passed to this function.}
344 \textcolor{stringliteral}{}
345 \textcolor{stringliteral}{        Args:}
346 \textcolor{stringliteral}{          key (string): The name of the property to be checked.}
347 \textcolor{stringliteral}{          val (string): The value that the property must have to be selected}
348 \textcolor{stringliteral}{}
349 \textcolor{stringliteral}{        Returns:}
350 \textcolor{stringliteral}{          A list of extension names that have the key:val property in their config if they exist.}
351 \textcolor{stringliteral}{            ['ext01', 'ext02', 'ext03']}
352 \textcolor{stringliteral}{}
353 \textcolor{stringliteral}{        Raises:}
354 \textcolor{stringliteral}{          KeyError: If the value requested is non-standard.}
355 \textcolor{stringliteral}{        """}
356         matching\_extensions = []
357         \textcolor{keywordflow}{if} key \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a72f3a3497a4593880a56e3952e674b13}{config\_keys}:
358             \_error = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"\{0\} is not a valid extension config value."}.format(
      key))
359             \textcolor{keywordflow}{raise} KeyError(\_error)
360         \_settings = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a0fa8b2be1171ded73629a01c50472d34}{user\_settings}
361         all\_exts = \_settings.childGroups()
362         \textcolor{keywordflow}{for} current\_extension \textcolor{keywordflow}{in} all\_exts:
363             \textcolor{comment}{#enter extension settings}
364             \_settings.beginGroup(current\_extension)
365             \textcolor{keywordflow}{if} \_settings.value(key) == val:
366                 matching\_extensions.append(current\_extension)
367             \textcolor{comment}{#exit extension}
368             \_settings.endGroup()
369         \textcolor{keywordflow}{if} matching\_extensions:
370             \textcolor{keywordflow}{return} matching\_extensions
371         \textcolor{keywordflow}{else}:
372             self.log.info(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"No extensions had the requested value."}))
373             \textcolor{keywordflow}{return} []

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_aa2b5054f6495fbc20e556f5713550d01}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!get\-\_\-installed@{get\-\_\-installed}}
\index{get\-\_\-installed@{get\-\_\-installed}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{get\-\_\-installed}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-get\-\_\-installed (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_aa2b5054f6495fbc20e556f5713550d01}
\begin{DoxyVerb}Get all installed extensions seperated by type.

Pulls the current installed extensions from the application settings and returns a dictionary with the lists of the two extension types.

Returns:
  A dictionary keyed by the names of all extensions with the values being if they are a user extension or a global extension.

  {'coreExtensionOne':"user", 'coreExtensionTwo':"global",
   'contribExtension':"global", 'anotherContrib':"global"}\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-libraries, commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate, and commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-user\-\_\-settings.



Referenced by commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-check\-\_\-installed().


\begin{DoxyCode}
240 
241     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_aa2b5054f6495fbc20e556f5713550d01}{get\_installed}(self):
242         \textcolor{stringliteral}{"""Get all installed extensions seperated by type.}
243 \textcolor{stringliteral}{}
244 \textcolor{stringliteral}{        Pulls the current installed extensions from the application settings and returns a dictionary with
       the lists of the two extension types.}
245 \textcolor{stringliteral}{}
246 \textcolor{stringliteral}{        Returns:}
247 \textcolor{stringliteral}{          A dictionary keyed by the names of all extensions with the values being if they are a user
       extension or a global extension.}
248 \textcolor{stringliteral}{}
249 \textcolor{stringliteral}{          \{'coreExtensionOne':"user", 'coreExtensionTwo':"global",}
250 \textcolor{stringliteral}{           'contribExtension':"global", 'anotherContrib':"global"\}}
251 \textcolor{stringliteral}{}
252 \textcolor{stringliteral}{        """}
253         self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Getting installed extensions."}))
254         installed\_extensions = \{\}
255         \_settings = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a0fa8b2be1171ded73629a01c50472d34}{user\_settings}
256         extensions = \_settings.childGroups()
257         \textcolor{keywordflow}{for} ext \textcolor{keywordflow}{in} extensions:
258             \_type = \_settings.value(ext+\textcolor{stringliteral}{"/type"})
259             ext\_dir = QtCore.QDir(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}{libraries}[\_type])
260             \textcolor{keywordflow}{if} ext\_dir.exists(ext):
261                 installed\_extensions[ext] = \_type
262         self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The following extensions are installed: [\{0\}]."}.
      format(extensions)))
263         \textcolor{keywordflow}{return} installed\_extensions
            
\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a91552f94535d729789bcb7da471d90fe}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!get\-\_\-property@{get\-\_\-property}}
\index{get\-\_\-property@{get\-\_\-property}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{get\-\_\-property}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-get\-\_\-property (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{name, }
\item[{}]{key}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a91552f94535d729789bcb7da471d90fe}
\begin{DoxyVerb}Get a property of an installed extension from the user settings.


Args:
  name (string): The extension's name.
  key (string): The key of the value you are requesting from the extension.

Returns:
  A the (string) value associated the extensions key in the applications saved extension settings.

Raises:
  KeyError: If the value requested is non-standard.
\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-config\-\_\-keys, commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate, and commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-user\-\_\-settings.



Referenced by commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-load\-\_\-user\-\_\-interface().


\begin{DoxyCode}
374 
375     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a91552f94535d729789bcb7da471d90fe}{get\_property}(self, name, key):
376         \textcolor{stringliteral}{"""}
377 \textcolor{stringliteral}{        Get a property of an installed extension from the user settings.}
378 \textcolor{stringliteral}{}
379 \textcolor{stringliteral}{        }
380 \textcolor{stringliteral}{        Args:}
381 \textcolor{stringliteral}{          name (string): The extension's name.}
382 \textcolor{stringliteral}{          key (string): The key of the value you are requesting from the extension.}
383 \textcolor{stringliteral}{}
384 \textcolor{stringliteral}{        Returns:}
385 \textcolor{stringliteral}{          A the (string) value associated the extensions key in the applications saved extension settings.}
386 \textcolor{stringliteral}{        }
387 \textcolor{stringliteral}{        Raises:}
388 \textcolor{stringliteral}{          KeyError: If the value requested is non-standard.}
389 \textcolor{stringliteral}{        """}
390         \textcolor{keywordflow}{if} key \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a72f3a3497a4593880a56e3952e674b13}{config\_keys}:
391             \_error = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"That is not a valid extension config value."})
392             \textcolor{keywordflow}{raise} KeyError(\_error)
393         \_settings = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a0fa8b2be1171ded73629a01c50472d34}{user\_settings}
394         \_settings.beginGroup(name)
395         setting\_value = \_settings.value(key)
396         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} setting\_value:
397             \_error = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The extension config does not contain that value."})
398             \_settings.endGroup()
399             \textcolor{keywordflow}{raise} KeyError(\_error)
400         \textcolor{keywordflow}{else}:
401             \_settings.endGroup()
402             \textcolor{keywordflow}{return} setting\_value

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a25c38ac92dceebe57891ce0ed422505e}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!get\-\_\-user\-\_\-settings@{get\-\_\-user\-\_\-settings}}
\index{get\-\_\-user\-\_\-settings@{get\-\_\-user\-\_\-settings}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{get\-\_\-user\-\_\-settings}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-get\-\_\-user\-\_\-settings (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a25c38ac92dceebe57891ce0ed422505e}
\begin{DoxyVerb}Get the currently logged in user settings object.\end{DoxyVerb}
 

References commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, and commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate.


\begin{DoxyCode}
76 
77     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a25c38ac92dceebe57891ce0ed422505e}{get\_user\_settings}(self):
78         \textcolor{stringliteral}{"""Get the currently logged in user settings object."""}
79         settings\_manager = \hyperlink{classcommotion__client_1_1utils_1_1settings_1_1UserSettingsManager}{settings.UserSettingsManager}()
80         \_settings = settings\_manager.get()
81         \textcolor{keywordflow}{if} \_settings.Scope() == 0:
82             \_settings.beginGroup(\textcolor{stringliteral}{"extensions"})
83             \textcolor{keywordflow}{return} \_settings
84         \textcolor{keywordflow}{else}:
85             \textcolor{keywordflow}{raise} TypeError(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"User settings has a global scope and will not
       be loaded. Because, security."}))

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae751a1b407e33af012d41ec44f2ce717}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!init\-\_\-extension\-\_\-config@{init\-\_\-extension\-\_\-config}}
\index{init\-\_\-extension\-\_\-config@{init\-\_\-extension\-\_\-config}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{init\-\_\-extension\-\_\-config}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-init\-\_\-extension\-\_\-config (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{ext\-\_\-type = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae751a1b407e33af012d41ec44f2ce717}
\begin{DoxyVerb}Initializes config objects for the path of extensions.

Args:
  ext_type (string): A specific extension type to load/reload a config object from. [global, user, or core]. If not provided, defaults to all.

Raises:
  ValueError: If the extension type passed is not either [core, global, or user]
\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-extensions, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-libraries, commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, and commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate.



Referenced by commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-init\-\_\-extension\-\_\-libraries(), and commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-load\-\_\-core().


\begin{DoxyCode}
192 
193     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae751a1b407e33af012d41ec44f2ce717}{init\_extension\_config}(self, ext\_type=None):
194         \textcolor{stringliteral}{""" Initializes config objects for the path of extensions.}
195 \textcolor{stringliteral}{}
196 \textcolor{stringliteral}{        Args:}
197 \textcolor{stringliteral}{          ext\_type (string): A specific extension type to load/reload a config object from. [global, user,
       or core]. If not provided, defaults to all.}
198 \textcolor{stringliteral}{}
199 \textcolor{stringliteral}{        Raises:}
200 \textcolor{stringliteral}{          ValueError: If the extension type passed is not either [core, global, or user]}
201 \textcolor{stringliteral}{        """}
202         self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Initializing \{0\} extension configs.."}.format(
      ext\_type)))
203         extension\_types = [\textcolor{stringliteral}{'user'}, \textcolor{stringliteral}{'global'}, \textcolor{stringliteral}{'core'}]
204         \textcolor{keywordflow}{if} ext\_type:
205             \textcolor{keywordflow}{if} str(ext\_type) \textcolor{keywordflow}{in} extension\_types:
206                 extension\_types = [ext\_type]
207             \textcolor{keywordflow}{else}:
208                 \textcolor{keywordflow}{raise} ValueError(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"\{0\} is not an acceptable extension type."}
      .format(ext\_type)))
209         \textcolor{keywordflow}{for} type\_ \textcolor{keywordflow}{in} extension\_types:
210             \textcolor{keywordflow}{try}:
211                 self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Creating  \{0\} config manager"}.format(type\_)
      ))
212                 self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ab11d3e09be6db88eb58e432c82d82702}{extensions}[type\_] = \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ConfigManager}{ConfigManager}(self.
      \hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}{libraries}[type\_])
213             \textcolor{keywordflow}{except} ValueError:
214                 self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"There were no extensions found for the \{0\}
       library."}.format(type\_)))
215                 \textcolor{keywordflow}{continue}
216             \textcolor{keywordflow}{except} KeyError:
217                 self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"There were no library path found for the
       \{0\} library."}.format(type\_)))
218                 \textcolor{keywordflow}{continue}
219             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Configs for \{0\} extension library loaded.."}.
      format(type\_)))

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a5a94323a3528a6af3bf009eb302fa729}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!init\-\_\-extension\-\_\-libraries@{init\-\_\-extension\-\_\-libraries}}
\index{init\-\_\-extension\-\_\-libraries@{init\-\_\-extension\-\_\-libraries}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{init\-\_\-extension\-\_\-libraries}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-init\-\_\-extension\-\_\-libraries (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a5a94323a3528a6af3bf009eb302fa729}
\begin{DoxyVerb}This function bootstraps the Commotion client when the settings are not populated on first boot or due to error. It iterates through all extensions in the core client and loads them.\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-init\-\_\-extension\-\_\-config(), commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-init\-\_\-libraries(), commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-install\-\_\-loaded(), commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-libraries, and commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-load\-\_\-core().


\begin{DoxyCode}
97 
98     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a5a94323a3528a6af3bf009eb302fa729}{init\_extension\_libraries}(self):
99         \textcolor{stringliteral}{"""This function bootstraps the Commotion client when the settings are not populated on first boot
       or due to error. It iterates through all extensions in the core client and loads them."""}
100         
101         \textcolor{comment}{#create directory structures if needed}
102         self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2edb9c39e0b8e5143c245089170182a3}{init\_libraries}()
103         \textcolor{comment}{#load core and move to global if needed}
104         self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}{libraries})
105         self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a98f5f3c261f083885a9b0528dcdafd34}{load\_core}()
106         \textcolor{comment}{#Load all extension configs found in libraries}
107         \textcolor{keywordflow}{for} name, path \textcolor{keywordflow}{in} self.libraries.items():
108             \textcolor{keywordflow}{if} QtCore.QDir(path).entryInfoList() != []:
109                 self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae751a1b407e33af012d41ec44f2ce717}{init\_extension\_config}(name)
110         \textcolor{comment}{#install all loaded config's with the existing settings}
111         self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a58bcb83cefe458d4affcb185785694c6}{install\_loaded}()

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2edb9c39e0b8e5143c245089170182a3}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!init\-\_\-libraries@{init\-\_\-libraries}}
\index{init\-\_\-libraries@{init\-\_\-libraries}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{init\-\_\-libraries}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-init\-\_\-libraries (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2edb9c39e0b8e5143c245089170182a3}
\begin{DoxyVerb}Creates a library folder, if it does not exit, in the directories specified for the current user and for the global application. \end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-libraries, commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, and commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate.



Referenced by commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-init\-\_\-extension\-\_\-libraries().


\begin{DoxyCode}
172 
173     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2edb9c39e0b8e5143c245089170182a3}{init\_libraries}(self):
174         \textcolor{stringliteral}{"""Creates a library folder, if it does not exit, in the directories specified for the current user
       and for the global application. """}
175         \textcolor{comment}{#==== USER & GLOBAL =====#}
176         \textcolor{keywordflow}{for} path\_type \textcolor{keywordflow}{in} [\textcolor{stringliteral}{'user'}, \textcolor{stringliteral}{'global'}]:
177             \textcolor{keywordflow}{try}:
178                 ext\_dir = QtCore.QDir(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}{libraries}[path\_type])
179             \textcolor{keywordflow}{except} KeyError:
180                 self.log.warning(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"No directory is specified for the \{0\}
       library. Try running set\_library\_defaults to initalize the default libraries."}.format(path\_type)))
181                 \textcolor{comment}{#If the directories are not yet created. We are not going to have this fail.}
182                 \textcolor{keywordflow}{continue}
183             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} ext\_dir.exists():
184                 \textcolor{keywordflow}{if} ext\_dir.mkpath(ext\_dir.absolutePath()):
185                     self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Created the \{0\} extension library at
       \{1\}"}.format(path\_type, str(ext\_dir.absolutePath()))))
186                 \textcolor{keywordflow}{else}:
187                     self.log.debug(ext\_dir.mkpath(ext\_dir.absolutePath()))
188                     self.log.debug(ext\_dir.exists(ext\_dir.absolutePath()))
189                     \textcolor{keywordflow}{raise} IOError(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Could not create the extension library
       for \{0\}."}.format(path\_type)))
190             \textcolor{keywordflow}{else}:
191                 self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The extension library at \{0\} already
       existed for \{1\}"}.format(str(ext\_dir.absolutePath()), path\_type)))

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a58bcb83cefe458d4affcb185785694c6}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!install\-\_\-loaded@{install\-\_\-loaded}}
\index{install\-\_\-loaded@{install\-\_\-loaded}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{install\-\_\-loaded}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-install\-\_\-loaded (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{ext\-\_\-type = {\ttfamily None}}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a58bcb83cefe458d4affcb185785694c6}
\begin{DoxyVerb}Installs loaded libraries by saving their settings into the application settings.

This function will install all loaded libraries into the users settings. It will add any missing configs and values that are not found. If a value exists install loaded will not change it.

Args:
  ext_type (string): A specific extension type [global or user] to load extensions from. If not provided, defaults to both.

Returns:
  List of names (strings) of extensions loaded  on success. Returns and empty list [] on failure.

Note on validation: Relies on save_settings to validate all fields.
Note on core: Core extensions are never "installed" they are used to populate the global library and then installed under global settings.\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-extensions, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-save\-\_\-settings(), commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-save\-\_\-settings(), commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate, and commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-user\-\_\-settings.



Referenced by commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-init\-\_\-extension\-\_\-libraries().


\begin{DoxyCode}
299 
300     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a58bcb83cefe458d4affcb185785694c6}{install\_loaded}(self, ext\_type=None):
301         \textcolor{stringliteral}{"""Installs loaded libraries by saving their settings into the application settings.}
302 \textcolor{stringliteral}{}
303 \textcolor{stringliteral}{        This function will install all loaded libraries into the users settings. It will add any missing
       configs and values that are not found. If a value exists install loaded will not change it.}
304 \textcolor{stringliteral}{        }
305 \textcolor{stringliteral}{        Args:}
306 \textcolor{stringliteral}{          ext\_type (string): A specific extension type [global or user] to load extensions from. If not
       provided, defaults to both.}
307 \textcolor{stringliteral}{}
308 \textcolor{stringliteral}{        Returns:}
309 \textcolor{stringliteral}{          List of names (strings) of extensions loaded  on success. Returns and empty list [] on failure.}
310 \textcolor{stringliteral}{        }
311 \textcolor{stringliteral}{        Note on validation: Relies on save\_settings to validate all fields.}
312 \textcolor{stringliteral}{        Note on core: Core extensions are never "installed" they are used to populate the global library
       and then installed under global settings.}
313 \textcolor{stringliteral}{        }
314 \textcolor{stringliteral}{        """}
315         \_settings = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a0fa8b2be1171ded73629a01c50472d34}{user\_settings}
316         \_keys = \_settings.childKeys()
317         extension\_types = [\textcolor{stringliteral}{'user'}, \textcolor{stringliteral}{'global'}]
318         \textcolor{keywordflow}{if} ext\_type \textcolor{keywordflow}{and} str(ext\_type) \textcolor{keywordflow}{in} extension\_types:
319             extension\_types = [ext\_type]
320         saved = []
321         \textcolor{keywordflow}{for} type\_ \textcolor{keywordflow}{in} extension\_types:
322             \textcolor{keywordflow}{try}:
323                 ext\_configs = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ab11d3e09be6db88eb58e432c82d82702}{extensions}[type\_].configs
324             \textcolor{keywordflow}{except} KeyError: \textcolor{comment}{#Check if type has not been set yet}
325                 self.log.info(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"No extensions of type \{0\} are currently
       loaded."}.format(type\_)))
326                 \textcolor{keywordflow}{continue}
327             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} ext\_configs: \textcolor{comment}{#Check if the type has been created and then emptied}
328                 self.log.info(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"No extensions of type \{0\} are currently
       loaded."}.format(type\_)))
329                 \textcolor{keywordflow}{continue}
330             \textcolor{keywordflow}{for} \_config \textcolor{keywordflow}{in} ext\_configs:
331                 \textcolor{comment}{#Only install if not already installed in this section.}
332                 \textcolor{keywordflow}{if} \_config[\textcolor{stringliteral}{'name'}] \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} \_keys:
333                     \textcolor{comment}{#Attempt to save the extension.}
334                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a048d2495f31a2637f67ed1b759f728a4}{save\_settings}(\_config, type\_):
335                         self.log.warning(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Extension \{0\} could not be saved.
      "}.format(\_config[\textcolor{stringliteral}{'name'}])))
336                     \textcolor{keywordflow}{else}:
337                         saved.append(\_config[\textcolor{stringliteral}{'name'}])
338         \textcolor{keywordflow}{return} saved

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a98f5f3c261f083885a9b0528dcdafd34}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!load\-\_\-core@{load\-\_\-core}}
\index{load\-\_\-core@{load\-\_\-core}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{load\-\_\-core}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-load\-\_\-core (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a98f5f3c261f083885a9b0528dcdafd34}
\begin{DoxyVerb}Loads all core extensions into the globals library and re-initialized the global config.

This function bootstraps global library from the core library. It iterates through all extensions in the core library and populates the global config with any extensions it does not already contain and then loads them into the global config.\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-extensions, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-init\-\_\-extension\-\_\-config(), commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-libraries, commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, and commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate.



Referenced by commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-init\-\_\-extension\-\_\-libraries().


\begin{DoxyCode}
264 
265     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a98f5f3c261f083885a9b0528dcdafd34}{load\_core}(self):
266         \textcolor{stringliteral}{"""Loads all core extensions into the globals library and re-initialized the global config.}
267 \textcolor{stringliteral}{        }
268 \textcolor{stringliteral}{        This function bootstraps global library from the core library. It iterates through all extensions
       in the core library and populates the global config with any extensions it does not already contain and then
       loads them into the global config.}
269 \textcolor{stringliteral}{}
270 \textcolor{stringliteral}{        """}
271         \textcolor{comment}{#Core extensions are loaded from the global directory.}
272         \textcolor{comment}{#If a core extension has been deleted from the global directory it will be replaced from the core
       directory.}
273         self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae751a1b407e33af012d41ec44f2ce717}{init\_extension\_config}(\textcolor{stringliteral}{'core'})
274         \_core\_dir = QtCore.QDir(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}{libraries}[\textcolor{stringliteral}{'core'}])
275         \_global\_dir = QtCore.QDir(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}{libraries}[\textcolor{stringliteral}{'global'}])
276         \_reload\_globals = \textcolor{keyword}{False}
277         \textcolor{keywordflow}{for} ext \textcolor{keywordflow}{in} self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ab11d3e09be6db88eb58e432c82d82702}{extensions}[\textcolor{stringliteral}{'core'}].configs:
278             \textcolor{keywordflow}{try}:
279                 \textcolor{comment}{#Check if the extension is in the globals}
280                 global\_extensions = list(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ab11d3e09be6db88eb58e432c82d82702}{extensions}[\textcolor{stringliteral}{'global'}].configs.keys())
281                 \textcolor{keywordflow}{if} ext[\textcolor{stringliteral}{'name'}] \textcolor{keywordflow}{in} global\_extensions:
282                     self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Core extension \{0\} was found in the
       global extension list."}.format(ext[\textcolor{stringliteral}{'name'}])))
283                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} \_global\_dir.exists(ext[\textcolor{stringliteral}{'name'}]):
284                         \textcolor{keywordflow}{raise} KeyError(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"Extension \{0\} was found in the extension
       list, but it did not exist in the actual library. Loading it to global."}.format(ext[\textcolor{stringliteral}{'name'}])))
285                     \textcolor{keywordflow}{continue}
286             \textcolor{keywordflow}{except} KeyError:
287                 \textcolor{comment}{#If extension not loaded in globals it will raise a KeyError}
288                 \_core\_ext\_path = \_core\_dir.absoluteFilePath(ext[\textcolor{stringliteral}{'name'}])
289                 \_global\_ext\_path = \_global\_dir.absoluteFilePath(ext[\textcolor{stringliteral}{'name'}])
290                 self.log.info(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Core extension \{0\} was missing from the
       global extension directory. Copying it into the global extension directory from the core now."}.format(ext[\textcolor{stringliteral}{'name'}
      ])))
291                 \textcolor{comment}{#Copy extension into global directory}
292                 \textcolor{keywordflow}{if} QtCore.QFile(\_core\_ext\_path).copy(\_global\_ext\_path):
293                     self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Extension successfully copied."}))
294                 \textcolor{keywordflow}{else}:
295                     self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Extension was not copied."}))
296                 \_reload\_globals = \textcolor{keyword}{True}
297         \textcolor{keywordflow}{if} \_reload\_globals == \textcolor{keyword}{True}:
298             self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae751a1b407e33af012d41ec44f2ce717}{init\_extension\_config}(\textcolor{stringliteral}{"global"})

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a923e4fe2b6bc682d9ccca7820cf2f3f3}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!load\-\_\-user\-\_\-interface@{load\-\_\-user\-\_\-interface}}
\index{load\-\_\-user\-\_\-interface@{load\-\_\-user\-\_\-interface}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{load\-\_\-user\-\_\-interface}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-load\-\_\-user\-\_\-interface (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{extension\-\_\-name, }
\item[{}]{gui}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a923e4fe2b6bc682d9ccca7820cf2f3f3}
\begin{DoxyVerb}Return the graphical user interface (settings, main, toolbar) from an initialized extension.

Args:
  extension_name (string): The extension to load
  gui (string): Name of a objects sub-section. (settings, main, or toolbar)

Returns:
  The ( <UI Type> class) contained within the <extension_name> module.
Raise:
  AttributeError: If an invalid gui type is requested or an uninitialized extension gui is requested.
\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-get\-\_\-config(), commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-get\-\_\-property(), commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-libraries, commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, and commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate.


\begin{DoxyCode}
403 
404     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a923e4fe2b6bc682d9ccca7820cf2f3f3}{load\_user\_interface}(self, extension\_name, gui):
405         \textcolor{stringliteral}{"""Return the graphical user interface (settings, main, toolbar) from an initialized extension.}
406 \textcolor{stringliteral}{}
407 \textcolor{stringliteral}{        Args:}
408 \textcolor{stringliteral}{          extension\_name (string): The extension to load}
409 \textcolor{stringliteral}{          gui (string): Name of a objects sub-section. (settings, main, or toolbar)}
410 \textcolor{stringliteral}{}
411 \textcolor{stringliteral}{        Returns:}
412 \textcolor{stringliteral}{          The ( <UI Type> class) contained within the <extension\_name> module.}
413 \textcolor{stringliteral}{        Raise:}
414 \textcolor{stringliteral}{          AttributeError: If an invalid gui type is requested or an uninitialized extension gui is
       requested.}
415 \textcolor{stringliteral}{        """}
416         \textcolor{keywordflow}{if} str(gui) \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} [\textcolor{stringliteral}{"settings"}, \textcolor{stringliteral}{"main"}, \textcolor{stringliteral}{"toolbar"}]:
417             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"\{0\} is not a supported user interface type."}.
      format(str(gui))))
418             \textcolor{keywordflow}{raise} AttributeError(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Attempted to get a user interface of an
       invalid type."}))
419         \_config = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a7f811f5c953b4208d9af942c9c173dbf}{get\_config}(extension\_name)
420         \textcolor{keywordflow}{try}:
421             \textcolor{keywordflow}{if} \_config[\textcolor{stringliteral}{'initialized'}] != \textcolor{stringliteral}{'true'}:
422                 self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Extension manager attempted to load a user
       interface from uninitalized extension \{0\}. Uninitialized extensions cannot be loaded. Try
       installing/initalizing the extension first."}.format(extension\_name)))
423                 \textcolor{keywordflow}{raise} AttributeError(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Attempted to load a user interface
       from an uninitialized extension."}))
424         \textcolor{keywordflow}{except} KeyError:
425             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Extension manager attempted to load a user
       interface from uninitalized extension \{0\}. Uninitialized extensions cannot be loaded. Try installing/initalizing
       the extension first."}.format(extension\_name)))
426             \textcolor{keywordflow}{raise} AttributeError(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Attempted to load a user interface from
       an uninitialized extension."}))
427         \textcolor{comment}{#Get ui file name and location of the extension from the settings.}
428         ui\_file = \_config[gui]
429         \_type = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a91552f94535d729789bcb7da471d90fe}{get\_property}(extension\_name, \textcolor{stringliteral}{"type"})
430         extension\_path = os.path.join(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}{libraries}[\_type], extension\_name)
431         self.log.debug(extension\_path)
432         \textcolor{comment}{#Get the extension}
433         extension = zipimport.zipimporter(extension\_path)
434         \textcolor{comment}{#add extension to sys path so imported modules can access other modules in the extension.}
435         sys.path.append(extension\_path)
436         user\_interface = extension.load\_module(ui\_file)
437         \textcolor{keywordflow}{if} gui == \textcolor{stringliteral}{"toolbar"}:
438             \textcolor{keywordflow}{return} user\_interface.ToolBar
439         \textcolor{keywordflow}{elif} gui == \textcolor{stringliteral}{"main"}:
440             \textcolor{keywordflow}{return} user\_interface.ViewPort
441         \textcolor{keywordflow}{elif} gui == \textcolor{stringliteral}{"settings"}:
442             \textcolor{keywordflow}{return} user\_interface.SettingsMenu

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a6d909da9885ddd0ca5a4b1e548bf2257}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!remove\-\_\-extension\-\_\-settings@{remove\-\_\-extension\-\_\-settings}}
\index{remove\-\_\-extension\-\_\-settings@{remove\-\_\-extension\-\_\-settings}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{remove\-\_\-extension\-\_\-settings}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-remove\-\_\-extension\-\_\-settings (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{name}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a6d909da9885ddd0ca5a4b1e548bf2257}
\begin{DoxyVerb}Removes an extension and its core properties from the applications extension settings.

long description

Args:
  name (str): the name of an extension to remove from the extension settings.

Returns:
  bool: True if extension is removed, false if it is not.

Raises:
  ValueError: When an empty string is passed as an argument.
\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-reset\-\_\-settings\-\_\-group(), commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate, and commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-user\-\_\-settings.


\begin{DoxyCode}
467 
468     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a6d909da9885ddd0ca5a4b1e548bf2257}{remove\_extension\_settings}(self, name):
469         \textcolor{stringliteral}{"""Removes an extension and its core properties from the applications extension settings.}
470 \textcolor{stringliteral}{        }
471 \textcolor{stringliteral}{        long description}
472 \textcolor{stringliteral}{        }
473 \textcolor{stringliteral}{        Args:}
474 \textcolor{stringliteral}{          name (str): the name of an extension to remove from the extension settings.}
475 \textcolor{stringliteral}{}
476 \textcolor{stringliteral}{        Returns:}
477 \textcolor{stringliteral}{          bool: True if extension is removed, false if it is not.}
478 \textcolor{stringliteral}{        }
479 \textcolor{stringliteral}{        Raises:}
480 \textcolor{stringliteral}{          ValueError: When an empty string is passed as an argument.}
481 \textcolor{stringliteral}{        """}
482         \textcolor{comment}{#make sure that a string of "" is not passed to this function because that would remove all keys.}
483         self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae90e7bfde555094ce23154a21baafd02}{reset\_settings\_group}()
484         \textcolor{keywordflow}{if} len(str(name)) > 0:
485             \_settings = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a0fa8b2be1171ded73629a01c50472d34}{user\_settings}
486             \_settings.remove(str(name))
487             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
488         \textcolor{keywordflow}{else}:
489             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"A zero length string was passed as the name of
       an extension to be removed. This would delete all the extensions if it was allowed to succeed."}))
490             \textcolor{keywordflow}{raise} ValueError(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"You must specify an extension name greater
       than 1 char."}))
491         \textcolor{keywordflow}{return} \textcolor{keyword}{False}

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae90e7bfde555094ce23154a21baafd02}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!reset\-\_\-settings\-\_\-group@{reset\-\_\-settings\-\_\-group}}
\index{reset\-\_\-settings\-\_\-group@{reset\-\_\-settings\-\_\-group}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{reset\-\_\-settings\-\_\-group}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-reset\-\_\-settings\-\_\-group (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae90e7bfde555094ce23154a21baafd02}
\begin{DoxyVerb}Resets the user_settings group to be at the top of the extensions group.

Some functions modify the user_settings location to point at indiviudal extensions or other sub-groups. This function resets the settings to point at the top of the extensions group.

NOTE: This should not be seen as a way to avoid doing clean up on functions you initiate. It is merely a way to ensure that on critical functions (deletions or modifications of existing settings) that errors do not cause data loss for users..
\end{DoxyVerb}
 

Referenced by commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-remove\-\_\-extension\-\_\-settings().


\begin{DoxyCode}
86 
87     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ae90e7bfde555094ce23154a21baafd02}{reset\_settings\_group}(self):
88         \textcolor{stringliteral}{"""Resets the user\_settings group to be at the top of the extensions group.}
89 \textcolor{stringliteral}{}
90 \textcolor{stringliteral}{        Some functions modify the user\_settings location to point at indiviudal extensions or other
       sub-groups. This function resets the settings to point at the top of the extensions group.}
91 \textcolor{stringliteral}{}
92 \textcolor{stringliteral}{        NOTE: This should not be seen as a way to avoid doing clean up on functions you initiate. It is
       merely a way to ensure that on critical functions (deletions or modifications of existing settings) that errors
       do not cause data loss for users..}
93 \textcolor{stringliteral}{        """}
94         \textcolor{keywordflow}{while} self.user\_settings.group():
95             self.user\_settings.endGroup()
96         self.user\_settings.beginGroup(\textcolor{stringliteral}{"extensions"})
    
\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a048d2495f31a2637f67ed1b759f728a4}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!save\-\_\-settings@{save\-\_\-settings}}
\index{save\-\_\-settings@{save\-\_\-settings}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{save\-\_\-settings}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-save\-\_\-settings (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{extension\-\_\-config, }
\item[{}]{extension\-\_\-type = {\ttfamily \char`\"{}global\char`\"{}}}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a048d2495f31a2637f67ed1b759f728a4}
\begin{DoxyVerb}Saves an extensions core properties into the applications extension settings.

long description

Args:
  extension_config (dict) An extension config in dictionary format.
  extension_type (string): Type of extension "user" or "global". Defaults to global.

Returns:
  bool: True if successful, False on any failures
\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-libraries, commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate, and commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-user\-\_\-settings.



Referenced by commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-install\-\_\-loaded().


\begin{DoxyCode}
492 
493     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a048d2495f31a2637f67ed1b759f728a4}{save\_settings}(self, extension\_config, extension\_type="global"):
494         \textcolor{stringliteral}{"""Saves an extensions core properties into the applications extension settings.}
495 \textcolor{stringliteral}{        }
496 \textcolor{stringliteral}{        long description}
497 \textcolor{stringliteral}{        }
498 \textcolor{stringliteral}{        Args:}
499 \textcolor{stringliteral}{          extension\_config (dict) An extension config in dictionary format.}
500 \textcolor{stringliteral}{          extension\_type (string): Type of extension "user" or "global". Defaults to global.}
501 \textcolor{stringliteral}{        }
502 \textcolor{stringliteral}{        Returns:}
503 \textcolor{stringliteral}{          bool: True if successful, False on any failures}
504 \textcolor{stringliteral}{        """}
505         \_settings = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a0fa8b2be1171ded73629a01c50472d34}{user\_settings}
506         \textcolor{comment}{#get extension dir}
507         \textcolor{keywordflow}{try}:
508             extension\_dir = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}{libraries}[extension\_type]
509         \textcolor{keywordflow}{except} KeyError:
510             self.log.warning(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Invalid extension type. Please check the
       extension type and try again."}))
511             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
512         \textcolor{comment}{#create validator}
513         \textcolor{keywordflow}{try}:
514             config\_validator = \hyperlink{classcommotion__client_1_1utils_1_1validate_1_1ClientConfig}{validate.ClientConfig}(extension\_config, extension\_dir)
515         \textcolor{keywordflow}{except} KeyError \textcolor{keyword}{as} \_excp:
516             self.log.warning(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The extension is missing a name value which
       is required."}))
517             self.log.debug(\_excp)
518             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
519         \textcolor{keywordflow}{except} FileNotFoundError \textcolor{keyword}{as} \_excp:
520             self.log.warning(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The extension was not found on the system and
       therefore cannot be saved."}))
521             self.log.debug(\_excp)
522             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
523         \textcolor{comment}{#Extension Name}
524         \textcolor{keywordflow}{try}:
525             extension\_name = extension\_config[\textcolor{stringliteral}{'name'}]
526             \textcolor{keywordflow}{if} config\_validator.name():
527                 \_settings.beginGroup(extension\_name)
528                 \_settings.setValue(\textcolor{stringliteral}{"name"}, extension\_name)
529             \textcolor{keywordflow}{else}:
530                 \_error = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The extension's name is invalid and cannot be
       saved."})
531                 self.log.error(\_error)
532                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
533         \textcolor{keywordflow}{except} KeyError:
534             \_error = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The extension is missing a name value which is
       required."})
535             self.log.error(\_error)
536             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
537         \textcolor{comment}{#Extension Main}
538         \textcolor{keywordflow}{try}:
539             \_main = extension\_config[\textcolor{stringliteral}{'main'}]
540             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} config\_validator.gui(\_main):
541                 \_error = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The config's main value is invalid and cannot be
       saved."})
542                 self.log.error(\_error)
543                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
544         \textcolor{keywordflow}{except} KeyError:
545             \_main = \textcolor{stringliteral}{"main"} \textcolor{comment}{#Set this for later default values}
546             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} config\_validator.gui(\_main):
547                 \_settings.setValue(\textcolor{stringliteral}{"main"}, \_main)
548         \textcolor{keywordflow}{else}:
549             \_settings.setValue(\textcolor{stringliteral}{"main"}, \_main)
550         \textcolor{comment}{#Extension Settings & Toolbar}
551         \textcolor{keywordflow}{for} val \textcolor{keywordflow}{in} [\textcolor{stringliteral}{"settings"}, \textcolor{stringliteral}{"toolbar"}]:
552             \textcolor{keywordflow}{try}:
553                 \_config\_value = extension\_config[val]
554                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} config\_validator.gui(val):
555                     \_error = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The config's \{0\} value is invalid and cannot
       be saved."}.format(val))
556                     self.log.error(\_error)
557                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
558             \textcolor{keywordflow}{except} KeyError:
559                 \textcolor{comment}{#Defaults to main, which was checked and set before}
560                 \_settings.setValue(val, \_main)
561             \textcolor{keywordflow}{else}:
562                 \_settings.setValue(val, \_config\_value)
563         \textcolor{comment}{#Extension Parent}
564         \textcolor{keywordflow}{try}:
565             \_parent = extension\_config[\textcolor{stringliteral}{"parent"}]
566             \textcolor{keywordflow}{if} config\_validator.parent():
567                 \_settings.setValue(\textcolor{stringliteral}{"parent"}, \_parent)
568             \textcolor{keywordflow}{else}:
569                 \_error = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The config's parent value is invalid and cannot
       be saved."})
570                 self.log.error(\_error)
571                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
572         \textcolor{keywordflow}{except} KeyError:
573             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Config for \{0\} does not contain a \{1\} value.
       Setting \{1\} to default value."}.format(extension\_name, \textcolor{stringliteral}{"parent"})))
574             \_settings.setValue(\textcolor{stringliteral}{"parent"}, \textcolor{stringliteral}{"Extensions"})
575         \textcolor{comment}{#Extension Menu Item}
576         \textcolor{keywordflow}{try}:
577             \_menu\_item = extension\_config[\textcolor{stringliteral}{"menu\_item"}]
578             \textcolor{keywordflow}{if} config\_validator.menu\_item():
579                 \_settings.setValue(\textcolor{stringliteral}{"menu\_item"}, \_menu\_item)
580             \textcolor{keywordflow}{else}:
581                 \_error = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The config's menu\_item value is invalid and
       cannot be saved."})
582                 self.log.error(\_error)
583                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
584         \textcolor{keywordflow}{except} KeyError:
585             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Config for \{0\} does not contain a \{1\} value.
       Setting \{1\} to default value."}.format(extension\_name, \textcolor{stringliteral}{"menu\_item"})))
586             \_settings.setValue(\textcolor{stringliteral}{"menu\_item"}, extension\_name)
587         \textcolor{comment}{#Extension Menu Level}
588         \textcolor{keywordflow}{try}:
589             \_menu\_level = extension\_config[\textcolor{stringliteral}{"menu\_level"}]
590             \textcolor{keywordflow}{if} config\_validator.menu\_level():
591                 \_settings.setValue(\textcolor{stringliteral}{"menu\_level"}, \_menu\_level)
592             \textcolor{keywordflow}{else}:
593                 \_error = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The config's menu\_level value is invalid and
       cannot be saved."})
594                 self.log.error(\_error)
595                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
596         \textcolor{keywordflow}{except} KeyError:
597             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Config for \{0\} does not contain a \{1\} value.
       Setting \{1\} to default value."}.format(extension\_name, \textcolor{stringliteral}{"menu\_level"})))
598             \_settings.setValue(\textcolor{stringliteral}{"menu\_level"}, 10)
599         \textcolor{comment}{#Extension Tests}
600         \textcolor{keywordflow}{try}:
601             \_tests = extension\_config[\textcolor{stringliteral}{'tests'}]
602             \textcolor{keywordflow}{if} config\_validator.tests():
603                 \_settings.setValue(\textcolor{stringliteral}{"tests"}, \_tests)
604             \textcolor{keywordflow}{else}:
605                 \_error = self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Extension \{0\} does not contain the \{1\} file
       listed in the config for its tests. Please either remove the listing to allow for the default value, or add the
       appropriate file."}.format(extension\_name, \_config\_value))
606                 self.log.error(\_error)
607                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
608         \textcolor{keywordflow}{except} KeyError:
609             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Config for \{0\} does not contain a \{1\} value.
       Setting \{1\} to default value."}.format(extension\_name, \textcolor{stringliteral}{"tests"})))
610             \_settings.setValue(\textcolor{stringliteral}{"tests"}, \textcolor{stringliteral}{"tests"})
611         \textcolor{comment}{#Write extension type}
612         \_settings.setValue(\textcolor{stringliteral}{"type"}, extension\_type)
613         \_settings.setValue(\textcolor{stringliteral}{"initialized"}, \textcolor{stringliteral}{'true'})
614         \_settings.endGroup()
615         \textcolor{keywordflow}{return} \textcolor{keyword}{True}

\end{DoxyCode}
\hypertarget{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ab2a55f25d0f1dbce2924c28513fac830}{\index{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}!set\-\_\-library\-\_\-defaults@{set\-\_\-library\-\_\-defaults}}
\index{set\-\_\-library\-\_\-defaults@{set\-\_\-library\-\_\-defaults}!commotion_client::utils::extension_manager::ExtensionManager@{commotion\-\_\-client\-::utils\-::extension\-\_\-manager\-::\-Extension\-Manager}}
\subsubsection[{set\-\_\-library\-\_\-defaults}]{\setlength{\rightskip}{0pt plus 5cm}def commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-set\-\_\-library\-\_\-defaults (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ab2a55f25d0f1dbce2924c28513fac830}
\begin{DoxyVerb}Sets the default directories for core, user, and global extensions.

OS Defaults:

  OSX:
    user: $HOME/Library/Commotion/extension_data/
    global: /Library/Application Support /Commotion/extension_data/

  Windows:
    user: %APPDATA%\\Local\\Commotion\\extension_data\\.
    global: %COMMON_APPDATA%\\Local\\Commotion\extension_data\\.
    The %APPDATA% path is usually C:\\Documents and Settings\\User Name\\Application Data; the %COMMON_APPDATA% path is usually C:\\Documents and Settings\\All Users\\Application Data.

  Linux:
    user: $HOME/.Commotion/extension_data/
    global: /usr/share/Commotion/extension_data/

Raises:
  IOError: If the application does not have permission to create ANY of the extension directories.
\end{DoxyVerb}
 

References commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-libraries, commotion\-\_\-client.\-G\-U\-I.\-menu\-\_\-bar.\-Menu\-Bar.\-translate, commotion\-\_\-client.\-extensions.\-config\-\_\-editor.\-main.\-View\-Port.\-translate, commotion\-\_\-client.\-G\-U\-I.\-main\-\_\-window.\-Main\-Window.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar\-\_\-builder.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Extension\-Tool\-Bar.\-translate, commotion\-\_\-client.\-G\-U\-I.\-toolbar.\-Tool\-Bar.\-translate, commotion\-\_\-client.\-utils.\-extension\-\_\-manager.\-Extension\-Manager.\-translate, commotion\-\_\-client.\-G\-U\-I.\-extension\-\_\-toolbar.\-Menu\-Item.\-translate, and commotion\-\_\-client.\-commotion\-\_\-client.\-Commotion\-Client\-Application.\-translate.


\begin{DoxyCode}
112 
113     \textcolor{keyword}{def }\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_ab2a55f25d0f1dbce2924c28513fac830}{set\_library\_defaults}(self):
114         \textcolor{stringliteral}{"""Sets the default directories for core, user, and global extensions.}
115 \textcolor{stringliteral}{        }
116 \textcolor{stringliteral}{        OS Defaults:}
117 \textcolor{stringliteral}{        }
118 \textcolor{stringliteral}{          OSX:}
119 \textcolor{stringliteral}{            user: $HOME/Library/Commotion/extension\_data/}
120 \textcolor{stringliteral}{            global: /Library/Application Support /Commotion/extension\_data/}
121 \textcolor{stringliteral}{        }
122 \textcolor{stringliteral}{          Windows:}
123 \textcolor{stringliteral}{            user: %APPDATA%\(\backslash\)\(\backslash\)Local\(\backslash\)\(\backslash\)Commotion\(\backslash\)\(\backslash\)extension\_data\(\backslash\)\(\backslash\).}
124 \textcolor{stringliteral}{            global: %COMMON\_APPDATA%\(\backslash\)\(\backslash\)Local\(\backslash\)\(\backslash\)Commotion\(\backslash\)extension\_data\(\backslash\)\(\backslash\).}
125 \textcolor{stringliteral}{            The %APPDATA% path is usually C:\(\backslash\)\(\backslash\)Documents and Settings\(\backslash\)\(\backslash\)User Name\(\backslash\)\(\backslash\)Application Data; the
       %COMMON\_APPDATA% path is usually C:\(\backslash\)\(\backslash\)Documents and Settings\(\backslash\)\(\backslash\)All Users\(\backslash\)\(\backslash\)Application Data.}
126 \textcolor{stringliteral}{        }
127 \textcolor{stringliteral}{          Linux:}
128 \textcolor{stringliteral}{            user: $HOME/.Commotion/extension\_data/}
129 \textcolor{stringliteral}{            global: /usr/share/Commotion/extension\_data/}
130 \textcolor{stringliteral}{        }
131 \textcolor{stringliteral}{        Raises:}
132 \textcolor{stringliteral}{          IOError: If the application does not have permission to create ANY of the extension directories.}
133 \textcolor{stringliteral}{        """}
134         \textcolor{comment}{#==== Core ====#}
135         \_app\_path = QtCore.QDir(QtCore.QCoreApplication.applicationDirPath())
136         \_app\_path.cd(\textcolor{stringliteral}{"extensions"})
137         \_app\_path.cd(\textcolor{stringliteral}{"core"})
138         \textcolor{comment}{#set the core extension directory}
139         self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}{libraries}[\textcolor{stringliteral}{'core'}] = \_app\_path.absolutePath()
140         self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Core extension directory succesfully set."}))
141 
142         \textcolor{comment}{#==== SYSTEM DEFAULTS =====#}
143         self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"Setting the default extension directory defaults."})
      )
144         platform = sys.platform
145         \textcolor{comment}{#Default global and user extension directories per platform.}
146         \textcolor{comment}{#win23, darwin, and linux supported.}
147         platform\_dirs = \{
148             \textcolor{stringliteral}{'darwin'}: \{
149                 \textcolor{stringliteral}{'user'} : os.path.join(\textcolor{stringliteral}{"Library"}, \textcolor{stringliteral}{"Commotion"}, \textcolor{stringliteral}{"extension\_data"}),
150                 \textcolor{stringliteral}{'user\_root'}: QtCore.QDir.home(),
151                 \textcolor{stringliteral}{'global'} : os.path.join(\textcolor{stringliteral}{"Library"}, \textcolor{stringliteral}{"Application Support"}, \textcolor{stringliteral}{"Commotion"}, \textcolor{stringliteral}{"extension\_data"}),
152                 \textcolor{stringliteral}{'global\_root'} : QtCore.QDir.root()\},
153             \textcolor{stringliteral}{'win32'} : \{
154                 \textcolor{stringliteral}{'user'}:os.path.join(\textcolor{stringliteral}{"Local"}, \textcolor{stringliteral}{"Commotion"}, \textcolor{stringliteral}{"extension\_data"}),
155                 \textcolor{stringliteral}{'user\_root'}: QtCore.QDir(os.getenv(\textcolor{stringliteral}{'APPDATA'})),
156                 \textcolor{stringliteral}{'global'}:os.path.join(\textcolor{stringliteral}{"Local"}, \textcolor{stringliteral}{"Commotion"}, \textcolor{stringliteral}{"extension\_data"}),
157                 \textcolor{stringliteral}{'global\_root'} : QtCore.QDir(os.getenv(\textcolor{stringliteral}{'COMMON\_APPDATA'}))\},
158             \textcolor{stringliteral}{'linux'}: \{
159                 \textcolor{stringliteral}{'user'}:os.path.join(\textcolor{stringliteral}{".Commotion"}, \textcolor{stringliteral}{"extension\_data"}),
160                 \textcolor{stringliteral}{'user\_root'}: QtCore.QDir.home(),
161                 \textcolor{stringliteral}{'global'}:os.path.join(\textcolor{stringliteral}{"extensions"}, \textcolor{stringliteral}{"global"}),
162                 \textcolor{stringliteral}{'global\_root'} : QtCore.QDir(QtCore.QCoreApplication.applicationDirPath())\}\}
163         \textcolor{keywordflow}{for} path\_type \textcolor{keywordflow}{in} [\textcolor{stringliteral}{'user'}, \textcolor{stringliteral}{'global'}]:
164             ext\_dir = platform\_dirs[platform][path\_type+\textcolor{stringliteral}{'\_root'}]
165             ext\_path = platform\_dirs[platform][path\_type]
166             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The root directory of \{0\} is \{1\}."}.format(
      path\_type, ext\_dir.path())))
167             \textcolor{comment}{#move the root directory to the correct sub-path.}
168             lib\_path = ext\_dir.filePath(ext\_path)
169             self.log.debug(self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a2cfd032ca383c3fd6f0f52b99b6dd67c}{translate}(\textcolor{stringliteral}{"logs"}, \textcolor{stringliteral}{"The extension directory has been set to \{0\}.."}.
      format(lib\_path)))
170             \textcolor{comment}{#Set the extension directory.}
171             self.\hyperlink{classcommotion__client_1_1utils_1_1extension__manager_1_1ExtensionManager_a28e035496b4d544179f934b3c401c0c1}{libraries}[path\_type] = lib\_path

\end{DoxyCode}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
commotion\-\_\-client/utils/extension\-\_\-manager.\-py\end{DoxyCompactItemize}
